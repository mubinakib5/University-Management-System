{"ast":null,"code":"var _jsxFileName = \"D:\\\\Website\\\\sms\\\\frontend\\\\src\\\\pages\\\\admin\\\\teacherRelated\\\\AddTeacher.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { getSubjectDetails } from '../../../redux/sclassRelated/sclassHandle';\nimport Popup from '../../../components/Popup';\nimport { registerUser } from '../../../redux/userRelated/userHandle';\nimport { underControl } from '../../../redux/userRelated/userSlice';\nimport { CircularProgress } from '@mui/material';\nconst AddTeacher = () => {\n  const params = useParams();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const subjectID = params.id;\n  const {\n    status,\n    response,\n    error\n  } = useSelector(state => state.user);\n  const {\n    subjectDetails\n  } = useSelector(state => state.sclass);\n  useEffect(() => {\n    dispatch(getSubjectDetails(subjectID, \"Subject\"));\n  }, [dispatch, subjectID]);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPopup, setShowPopup] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [loader, setLoader] = useState(false);\n  const role = \"Teacher\";\n  const school = subjectDetails && subjectDetails.school;\n  const teachSubject = subjectDetails && subjectDetails._id;\n  const teachSclass = subjectDetails && subjectDetails.sclassName && subjectDetails.sclassName._id;\n  const fields = {\n    name,\n    email,\n    password,\n    role,\n    school,\n    teachSubject,\n    teachSclass\n  };\n  const submitHandler = event => {\n    event.preventDefault();\n    setLoader(true);\n    dispatch(registerUser(fields, role));\n  };\n  useEffect(() => {\n    if (status === 'added') {\n      dispatch(underControl());\n      navigate(\"/Admin/teachers\");\n    } else if (status === 'failed') {\n      setMessage(response);\n      setShowPopup(true);\n      setLoader(false);\n    } else if (status === 'error') {\n      setMessage(\"Network Error\");\n      setShowPopup(true);\n      setLoader(false);\n    }\n  }, [status, navigate, error, response, dispatch]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"registerForm\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"registerTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Add Teacher\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"Subject : \", subjectDetails && subjectDetails.subName), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"Class : \", subjectDetails && subjectDetails.sclassName && subjectDetails.sclassName.sclassName), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"registerInput\",\n    type: \"text\",\n    placeholder: \"Enter teacher's name...\",\n    value: name,\n    onChange: event => setName(event.target.value),\n    autoComplete: \"name\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"registerInput\",\n    type: \"email\",\n    placeholder: \"Enter teacher's email...\",\n    value: email,\n    onChange: event => setEmail(event.target.value),\n    autoComplete: \"email\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"registerInput\",\n    type: \"password\",\n    placeholder: \"Enter teacher's password...\",\n    value: password,\n    onChange: event => setPassword(event.target.value),\n    autoComplete: \"new-password\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"registerButton\",\n    type: \"submit\",\n    disabled: loader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, loader ? /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 24,\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }) : 'Register'))), /*#__PURE__*/React.createElement(Popup, {\n    message: message,\n    setShowPopup: setShowPopup,\n    showPopup: showPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }));\n};\nexport default AddTeacher;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useNavigate","useParams","getSubjectDetails","Popup","registerUser","underControl","CircularProgress","AddTeacher","params","dispatch","navigate","subjectID","id","status","response","error","state","user","subjectDetails","sclass","name","setName","email","setEmail","password","setPassword","showPopup","setShowPopup","message","setMessage","loader","setLoader","role","school","teachSubject","_id","teachSclass","sclassName","fields","submitHandler","event","preventDefault","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","subName","type","placeholder","value","onChange","target","autoComplete","required","disabled","size","color"],"sources":["D:/Website/sms/frontend/src/pages/admin/teacherRelated/AddTeacher.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { getSubjectDetails } from '../../../redux/sclassRelated/sclassHandle';\r\nimport Popup from '../../../components/Popup';\r\nimport { registerUser } from '../../../redux/userRelated/userHandle';\r\nimport { underControl } from '../../../redux/userRelated/userSlice';\r\nimport { CircularProgress } from '@mui/material';\r\n\r\nconst AddTeacher = () => {\r\n  const params = useParams()\r\n  const dispatch = useDispatch()\r\n  const navigate = useNavigate()\r\n\r\n  const subjectID = params.id\r\n\r\n  const { status, response, error } = useSelector(state => state.user);\r\n  const { subjectDetails } = useSelector((state) => state.sclass);\r\n\r\n  useEffect(() => {\r\n    dispatch(getSubjectDetails(subjectID, \"Subject\"));\r\n  }, [dispatch, subjectID]);\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('')\r\n\r\n  const [showPopup, setShowPopup] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loader, setLoader] = useState(false)\r\n\r\n  const role = \"Teacher\"\r\n  const school = subjectDetails && subjectDetails.school\r\n  const teachSubject = subjectDetails && subjectDetails._id\r\n  const teachSclass = subjectDetails && subjectDetails.sclassName && subjectDetails.sclassName._id\r\n\r\n  const fields = { name, email, password, role, school, teachSubject, teachSclass }\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault()\r\n    setLoader(true)\r\n    dispatch(registerUser(fields, role))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (status === 'added') {\r\n      dispatch(underControl())\r\n      navigate(\"/Admin/teachers\")\r\n    }\r\n    else if (status === 'failed') {\r\n      setMessage(response)\r\n      setShowPopup(true)\r\n      setLoader(false)\r\n    }\r\n    else if (status === 'error') {\r\n      setMessage(\"Network Error\")\r\n      setShowPopup(true)\r\n      setLoader(false)\r\n    }\r\n  }, [status, navigate, error, response, dispatch]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"register\">\r\n        <form className=\"registerForm\" onSubmit={submitHandler}>\r\n          <span className=\"registerTitle\">Add Teacher</span>\r\n          <br />\r\n          <label>\r\n            Subject : {subjectDetails && subjectDetails.subName}\r\n          </label>\r\n          <label>\r\n            Class : {subjectDetails && subjectDetails.sclassName && subjectDetails.sclassName.sclassName}\r\n          </label>\r\n          <label>Name</label>\r\n          <input className=\"registerInput\" type=\"text\" placeholder=\"Enter teacher's name...\"\r\n            value={name}\r\n            onChange={(event) => setName(event.target.value)}\r\n            autoComplete=\"name\" required />\r\n\r\n          <label>Email</label>\r\n          <input className=\"registerInput\" type=\"email\" placeholder=\"Enter teacher's email...\"\r\n            value={email}\r\n            onChange={(event) => setEmail(event.target.value)}\r\n            autoComplete=\"email\" required />\r\n\r\n          <label>Password</label>\r\n          <input className=\"registerInput\" type=\"password\" placeholder=\"Enter teacher's password...\"\r\n            value={password}\r\n            onChange={(event) => setPassword(event.target.value)}\r\n            autoComplete=\"new-password\" required />\r\n\r\n          <button className=\"registerButton\" type=\"submit\" disabled={loader}>\r\n            {loader ? (\r\n              <CircularProgress size={24} color=\"inherit\" />\r\n            ) : (\r\n              'Register'\r\n            )}\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <Popup message={message} setShowPopup={setShowPopup} showPopup={showPopup} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddTeacher"],"mappings":"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"},"metadata":{},"sourceType":"module"}