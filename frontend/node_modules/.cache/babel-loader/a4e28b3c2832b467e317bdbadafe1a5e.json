{"ast":null,"code":"var _jsxFileName = \"D:\\\\Website\\\\sms\\\\frontend\\\\src\\\\components\\\\SeeNotice.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllNotices } from '../redux/noticeRelated/noticeHandle';\nimport { Paper } from '@mui/material';\nimport TableViewTemplate from './TableViewTemplate';\nconst SeeNotice = () => {\n  const dispatch = useDispatch();\n  const {\n    currentUser,\n    currentRole\n  } = useSelector(state => state.user);\n  const {\n    noticesList,\n    loading,\n    error,\n    response\n  } = useSelector(state => state.notice);\n  useEffect(() => {\n    if (currentRole === \"Admin\") {\n      dispatch(getAllNotices(currentUser._id, \"Notice\"));\n    } else {\n      dispatch(getAllNotices(currentUser.school._id, \"Notice\"));\n    }\n  }, [dispatch]);\n  if (error) {\n    console.log(error);\n  }\n  const noticeColumns = [{\n    id: 'title',\n    label: 'Title',\n    minWidth: 170\n  }, {\n    id: 'details',\n    label: 'Details',\n    minWidth: 100\n  }, {\n    id: 'date',\n    label: 'Date',\n    minWidth: 170\n  }];\n  const noticeRows = noticesList.map(notice => {\n    const date = new Date(notice.date);\n    const dateString = date.toString() !== \"Invalid Date\" ? date.toISOString().substring(0, 10) : \"Invalid Date\";\n    return {\n      title: notice.title,\n      details: notice.details,\n      date: dateString,\n      id: notice._id\n    };\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '50px',\n      marginRight: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, \"Loading...\") : response ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"No Notices to Show Right Now\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      fontSize: '30px',\n      marginBottom: '40px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, \"Notices\"), /*#__PURE__*/React.createElement(Paper, {\n    sx: {\n      width: '100%',\n      overflow: 'hidden'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, Array.isArray(noticesList) && noticesList.length > 0 && /*#__PURE__*/React.createElement(TableViewTemplate, {\n    columns: noticeColumns,\n    rows: noticeRows,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }))));\n};\nexport default SeeNotice;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","getAllNotices","Paper","TableViewTemplate","SeeNotice","dispatch","currentUser","currentRole","state","user","noticesList","loading","error","response","notice","_id","school","console","log","noticeColumns","id","label","minWidth","noticeRows","map","date","Date","dateString","toString","toISOString","substring","title","details","createElement","style","marginTop","marginRight","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","Fragment","marginBottom","sx","width","overflow","Array","isArray","length","columns","rows"],"sources":["D:/Website/sms/frontend/src/components/SeeNotice.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAllNotices } from '../redux/noticeRelated/noticeHandle';\r\nimport { Paper } from '@mui/material';\r\nimport TableViewTemplate from './TableViewTemplate';\r\n\r\nconst SeeNotice = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { currentUser, currentRole } = useSelector(state => state.user);\r\n    const { noticesList, loading, error, response } = useSelector((state) => state.notice);\r\n\r\n    useEffect(() => {\r\n        if (currentRole === \"Admin\") {\r\n            dispatch(getAllNotices(currentUser._id, \"Notice\"));\r\n        }\r\n        else {\r\n            dispatch(getAllNotices(currentUser.school._id, \"Notice\"));\r\n        }\r\n    }, [dispatch]);\r\n\r\n    if (error) {\r\n        console.log(error);\r\n    }\r\n\r\n    const noticeColumns = [\r\n        { id: 'title', label: 'Title', minWidth: 170 },\r\n        { id: 'details', label: 'Details', minWidth: 100 },\r\n        { id: 'date', label: 'Date', minWidth: 170 },\r\n    ];\r\n\r\n    const noticeRows = noticesList.map((notice) => {\r\n        const date = new Date(notice.date);\r\n        const dateString = date.toString() !== \"Invalid Date\" ? date.toISOString().substring(0, 10) : \"Invalid Date\";\r\n        return {\r\n            title: notice.title,\r\n            details: notice.details,\r\n            date: dateString,\r\n            id: notice._id,\r\n        };\r\n    });\r\n    return (\r\n        <div style={{ marginTop: '50px', marginRight: '20px' }}>\r\n            {loading ? (\r\n                <div style={{ fontSize: '20px' }}>Loading...</div>\r\n            ) : response ? (\r\n                <div style={{ fontSize: '20px' }}>No Notices to Show Right Now</div>\r\n            ) : (\r\n                <>\r\n                    <h3 style={{ fontSize: '30px', marginBottom: '40px' }}>Notices</h3>\r\n                    <Paper sx={{ width: '100%', overflow: 'hidden' }}>\r\n                        {Array.isArray(noticesList) && noticesList.length > 0 &&\r\n                            <TableViewTemplate columns={noticeColumns} rows={noticeRows} />\r\n                        }\r\n                    </Paper>\r\n                </>\r\n            )}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default SeeNotice"],"mappings":"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"},"metadata":{},"sourceType":"module"}