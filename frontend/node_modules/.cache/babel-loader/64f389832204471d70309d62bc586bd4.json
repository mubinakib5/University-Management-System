{"ast":null,"code":"import axios from 'axios';\nimport { authRequest, stuffAdded, authSuccess, authFailed, authError, authLogout, doneSuccess, getDeleteSuccess, getRequest, getFailed, getError } from './userSlice';\nexport const loginUser = (fields, role) => async dispatch => {\n  dispatch(authRequest());\n  try {\n    console.log(process.env.REACT_APP_BASE_URL);\n    const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${role}Login`, fields, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.data.role) {\n      dispatch(authSuccess(result.data));\n    } else {\n      dispatch(authFailed(result.data.message));\n    }\n  } catch (error) {\n    dispatch(authError(error));\n  }\n};\nexport const registerUser = (fields, role) => async dispatch => {\n  dispatch(authRequest());\n  try {\n    const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${role}Reg`, fields, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.data.schoolName) {\n      dispatch(authSuccess(result.data));\n    } else if (result.data.school) {\n      dispatch(stuffAdded());\n    } else {\n      dispatch(authFailed(result.data.message));\n    }\n  } catch (error) {\n    dispatch(authError(error));\n  }\n};\nexport const logoutUser = () => dispatch => {\n  dispatch(authLogout());\n};\nexport const getUserDetails = (id, address) => async dispatch => {\n  dispatch(getRequest());\n  try {\n    const result = await axios.get(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`);\n    if (result.data) {\n      dispatch(doneSuccess(result.data));\n    }\n  } catch (error) {\n    dispatch(getError(error));\n  }\n};\n\n// export const deleteUser = (id, address) => async (dispatch) => {\n//     dispatch(getRequest());\n\n//     try {\n//         const result = await axios.delete(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`);\n//         if (result.data.message) {\n//             dispatch(getFailed(result.data.message));\n//         } else {\n//             dispatch(getDeleteSuccess());\n//         }\n//     } catch (error) {\n//         dispatch(getError(error));\n//     }\n// }\n\nexport const deleteUser = (id, address) => async dispatch => {\n  dispatch(getRequest());\n  dispatch(getFailed(\"Sorry the delete function has been disabled for now.\"));\n};\nexport const updateUser = (fields, id, address) => async dispatch => {\n  dispatch(getRequest());\n  try {\n    const result = await axios.put(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`, fields, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.data.schoolName) {\n      dispatch(authSuccess(result.data));\n    } else {\n      dispatch(doneSuccess(result.data));\n    }\n  } catch (error) {\n    dispatch(getError(error));\n  }\n};\nexport const addStuff = (fields, address) => async dispatch => {\n  dispatch(authRequest());\n  try {\n    const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${address}Create`, fields, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.data.message) {\n      dispatch(authFailed(result.data.message));\n    } else {\n      dispatch(stuffAdded(result.data));\n    }\n  } catch (error) {\n    dispatch(authError(error));\n  }\n};","map":{"version":3,"names":["axios","authRequest","stuffAdded","authSuccess","authFailed","authError","authLogout","doneSuccess","getDeleteSuccess","getRequest","getFailed","getError","loginUser","fields","role","dispatch","console","log","process","env","REACT_APP_BASE_URL","result","post","headers","data","message","error","registerUser","schoolName","school","logoutUser","getUserDetails","id","address","get","deleteUser","updateUser","put","addStuff"],"sources":["D:/Website/sms/frontend/src/redux/userRelated/userHandle.js"],"sourcesContent":["import axios from 'axios';\r\nimport {\r\n    authRequest,\r\n    stuffAdded,\r\n    authSuccess,\r\n    authFailed,\r\n    authError,\r\n    authLogout,\r\n    doneSuccess,\r\n    getDeleteSuccess,\r\n    getRequest,\r\n    getFailed,\r\n    getError,\r\n} from './userSlice';\r\n\r\nexport const loginUser = (fields, role) => async (dispatch) => {\r\n    dispatch(authRequest());\r\n\r\n    try {\r\n        console.log(process.env.REACT_APP_BASE_URL);\r\n        const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${role}Login`, fields, {\r\n            headers: { 'Content-Type': 'application/json' },\r\n        });\r\n        if (result.data.role) {\r\n            dispatch(authSuccess(result.data));\r\n        } else {\r\n            dispatch(authFailed(result.data.message));\r\n        }\r\n    } catch (error) {\r\n        dispatch(authError(error));\r\n    }\r\n};\r\n\r\nexport const registerUser = (fields, role) => async (dispatch) => {\r\n    dispatch(authRequest());\r\n\r\n    try {\r\n        const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${role}Reg`, fields, {\r\n            headers: { 'Content-Type': 'application/json' },\r\n        });\r\n        if (result.data.schoolName) {\r\n            dispatch(authSuccess(result.data));\r\n        }\r\n        else if (result.data.school) {\r\n            dispatch(stuffAdded());\r\n        }\r\n        else {\r\n            dispatch(authFailed(result.data.message));\r\n        }\r\n    } catch (error) {\r\n        dispatch(authError(error));\r\n    }\r\n};\r\n\r\nexport const logoutUser = () => (dispatch) => {\r\n    dispatch(authLogout());\r\n};\r\n\r\nexport const getUserDetails = (id, address) => async (dispatch) => {\r\n    dispatch(getRequest());\r\n\r\n    try {\r\n        const result = await axios.get(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`);\r\n        if (result.data) {\r\n            dispatch(doneSuccess(result.data));\r\n        }\r\n    } catch (error) {\r\n        dispatch(getError(error));\r\n    }\r\n}\r\n\r\n// export const deleteUser = (id, address) => async (dispatch) => {\r\n//     dispatch(getRequest());\r\n\r\n//     try {\r\n//         const result = await axios.delete(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`);\r\n//         if (result.data.message) {\r\n//             dispatch(getFailed(result.data.message));\r\n//         } else {\r\n//             dispatch(getDeleteSuccess());\r\n//         }\r\n//     } catch (error) {\r\n//         dispatch(getError(error));\r\n//     }\r\n// }\r\n\r\n\r\nexport const deleteUser = (id, address) => async (dispatch) => {\r\n    dispatch(getRequest());\r\n    dispatch(getFailed(\"Sorry the delete function has been disabled for now.\"));\r\n}\r\n\r\nexport const updateUser = (fields, id, address) => async (dispatch) => {\r\n    dispatch(getRequest());\r\n\r\n    try {\r\n        const result = await axios.put(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`, fields, {\r\n            headers: { 'Content-Type': 'application/json' },\r\n        });\r\n        if (result.data.schoolName) {\r\n            dispatch(authSuccess(result.data));\r\n        }\r\n        else {\r\n            dispatch(doneSuccess(result.data));\r\n        }\r\n    } catch (error) {\r\n        dispatch(getError(error));\r\n    }\r\n}\r\n\r\nexport const addStuff = (fields, address) => async (dispatch) => {\r\n    dispatch(authRequest());\r\n\r\n    try {\r\n        const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${address}Create`, fields, {\r\n            headers: { 'Content-Type': 'application/json' },\r\n        });\r\n\r\n        if (result.data.message) {\r\n            dispatch(authFailed(result.data.message));\r\n        } else {\r\n            dispatch(stuffAdded(result.data));\r\n        }\r\n    } catch (error) {\r\n        dispatch(authError(error));\r\n    }\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}